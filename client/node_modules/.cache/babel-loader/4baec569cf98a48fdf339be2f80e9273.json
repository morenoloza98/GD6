{"ast":null,"code":"var _jsxFileName = \"/Users/Alex/Documents/Escuela/6\\xBA Semestre/Lab Desarrollo de Apps Web/Workspace-node/GD6/client/src/components/todos/TodoList.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nclass TodoList extends Component {\n  constructor() {\n    super();\n\n    this.getList = () => {\n      axios.get('/tasks/all').then(res => {\n        this.setState({\n          tasks: res.data.data\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.addTask = description => {\n      axios.post('/tasks/add', {\n        description: description\n      }).then(res => {\n        console.log(res);\n      }).catch(err => console.log(err));\n    };\n\n    this.deleteTask = id => {\n      axios.delete(`/tasks/${id}/delete`).then(res => {\n        console.log(res);\n      }).catch(err => console.log(err));\n    };\n\n    this.markAsDone = id => {\n      axios.put(`/tasks/${id}/done`, {\n        status: 'done'\n      }).then(res => {\n        console.log(res);\n      }).catch(err => console.log(err));\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      this.addTask(this.state.description).then(() => {\n        this.getList();\n      });\n      this.setState({\n        description: ''\n      });\n    };\n\n    this.onUpdate = (value, e) => {\n      e.preventDefault();\n      this.markAsDone(value);\n      let data = [...this.state.tasks];\n      data.filter(function (task, index) {\n        if (task.id === value) {\n          task.status = 'done';\n        }\n\n        return true;\n      });\n      this.setState({\n        tasks: [...data]\n      });\n    };\n\n    this.onDelete = (value, e) => {\n      e.preventDefault();\n      this.deleteTask(value);\n      let data = [...this.state.tasks];\n      data.filter(function (task, index) {\n        if (task.id === value) {\n          data.splice(index, 1);\n        }\n\n        return true;\n      });\n      this.setState({\n        tasks: [...data]\n      });\n    };\n\n    this.onChange = this.onChange.bind(this);\n    state = {\n      id: '',\n      description: '',\n      tasks: []\n    };\n  }\n\n  componentDidMount() {\n    this.getList();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }, \"TODO\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"description\",\n      name: \"description\",\n      value: this.state.value || useState(''),\n      onChange: this.onChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.onSubmit.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, \"Submit\")))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      border: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, \"Task\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, this.state.tasks.map((todo, i) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: i,\n        style: {\n          backgroundColor: todo.status == 'pending' ? 'green' : 'grey'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 29\n        }\n      }, \"#\", i), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 29\n        }\n      }, todo.description), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        href: \"\",\n        onClick: this.onUpdate.bind(this, todo.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 33\n        }\n      }, \"Terminado\")), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        href: \"\",\n        onClick: this.onDelete.bind(this, todo.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 33\n        }\n      }, \"Delete\")));\n    })))));\n  }\n\n}\n\nexport default TodoList;","map":{"version":3,"sources":["/Users/Alex/Documents/Escuela/6ยบ Semestre/Lab Desarrollo de Apps Web/Workspace-node/GD6/client/src/components/todos/TodoList.js"],"names":["React","Component","axios","TodoList","constructor","getList","get","then","res","setState","tasks","data","catch","err","console","log","addTask","description","post","deleteTask","id","delete","markAsDone","put","status","onChange","e","target","name","value","onSubmit","preventDefault","state","onUpdate","filter","task","index","onDelete","splice","bind","componentDidMount","render","useState","map","todo","i","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass TodoList extends Component {\n    constructor(){\n        super()\n        this.onChange = this.onChange.bind(this)\n        state = {\n            id: '',\n            description: '',\n            tasks: []\n        }\n    }\n    getList = () => {\n        axios.get('/tasks/all')\n            .then(res => {\n            this.setState({ tasks: res.data.data });\n            })\n            .catch(err => console.log(err));\n    }\n\n    addTask = (description) => {\n    axios.post('/tasks/add', {\n        description: description\n    })\n    .then(res => {\n        console.log(res);\n    })\n    .catch(err => console.log(err));\n    }\n\n    deleteTask = (id) => {\n    axios.delete(`/tasks/${id}/delete`)\n        .then(res => {\n        console.log(res);\n        })\n        .catch(err => console.log(err));\n    }\n\n    markAsDone = (id) => {\n    axios.put(`/tasks/${id}/done`, {\n        status: 'done'\n    })\n        .then(res => {\n        console.log(res);\n        })\n        .catch(err => console.log(err));\n    }\n\n    componentDidMount(){\n        this.getList();\n    }\n\n    onChange = e => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    onSubmit = e => {\n        e.preventDefault()\n        this.addTask(this.state.description).then(() => {\n            this.getList()\n        })\n        this.setState({\n            description: ''\n        })\n    }\n\n    onUpdate = (value, e) => {\n        e.preventDefault()\n        this.markAsDone(value)\n\n        let data = [...this.state.tasks]\n        data.filter(function(task, index) {\n            if(task.id === value){\n                task.status = 'done'\n            }\n            return true\n        })\n        this.setState({ tasks: [...data]})\n    }\n\n    onDelete = (value, e) => {\n        e.preventDefault()\n        this.deleteTask(value)\n\n        let data = [...this.state.tasks]\n        data.filter(function(task, index) {\n            if(task.id === value){\n                data.splice(index, 1)\n            }\n            return true\n        })\n        this.setState({ tasks: [...data]})\n    }\n\n    render(){    \n        return (\n            <>\n            <div>\n                <form onSubmit={this.onSubmit}>\n                    <div>\n                        <label for=\"description\">TODO</label>\n                        <input \n                            type=\"text\" \n                            id=\"description\" \n                            name=\"description\"\n                            value={this.state.value || useState('')}\n                            onChange={this.onChange.bind(this)}\n                        />\n                        <button\n                            type=\"submit\"\n                            onClick={this.onSubmit.bind(this)}>\n                                Submit\n                        </button>\n                    </div>\n                </form>\n            </div>\n            <div>\n                <table border=\"1\">\n                <thead>\n                    <th>#</th>\n                    <th>Task</th>\n                    <th></th>\n                </thead>\n                <tbody>\n                    {this.state.tasks.map((todo, i) => {\n                    return (\n                        <tr key={i} style={{backgroundColor: todo.status == 'pending' ? 'green' : 'grey'}}>\n                            <td>#{i}</td>\n                            <td>{todo.description}</td>\n                            <td>\n                                <button\n                                    href=\"\"\n                                    onClick={this.onUpdate.bind(this, todo.id)}\n                                >\n                                        Terminado\n                                </button>\n                            </td>\n                            <td>\n                                <button\n                                    href=\"\"\n                                    onClick={this.onDelete.bind(\n                                        this,\n                                        todo.id\n                                    )}\n                                >\n                                        Delete\n                                </button>\n                            </td>\n                        {/* <td>\n                            {todo.status == 'pending' && (\n                            <input type=\"button\" value=\"terminado?\" onClick={(event) => markAsDone(event, this.id)}/>\n                            )}\n                        </td> */}\n                        </tr>\n                    )\n                    })}\n                </tbody>\n                </table>\n            </div>\n            </>\n        );\n    }\n}\n\nexport default TodoList;"]},"metadata":{},"sourceType":"module"}